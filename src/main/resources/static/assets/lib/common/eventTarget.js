define(function(){var t=function(){this._listeners={}};return t.prototype={on:function(t,e){void 0===this._listeners[t]&&(this._listeners[t]=[]),this._listeners[t].push(e)},trigger:function(t,e,i){if("string"==typeof t&&(t={type:t}),t.target||(t.target=this),!t.type)throw new Error("Event object missing 'type' property.");if(this._listeners[t.type]instanceof Array)for(var s=this._listeners[t.type],r=0,n=s.length;r<n;r++)s[r].apply(this,[].slice.call(arguments,1))},removeListener:function(t,e){if(this._listeners[t]instanceof Array)for(var i=this._listeners[t],s=0,r=i.length;s<r;s++)if(i[s]===e){i.splice(s,1);break}}},t});